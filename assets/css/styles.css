/* Design tokens: Material/One UI fusion */
:root {
  --brand: 200 90% 50%; /* sky-500 */
  --brand-2: 260 83% 66%; /* violet */
  --bg: 210 20% 98%;
  --surface: 0 0% 100%;
  --overlay: 210 20% 96%;
  --text: 220 25% 12%;
  --text-2: 220 10% 35%;
  --border: 220 14% 90%;
  --success: 145 58% 45%;
  --warning: 40 96% 50%;
  --danger: 0 84% 60%;

  --radius: 16px;
  --radius-sm: 12px;
  --radius-lg: 28px; /* One UI pilliness */
  --shadow-1: 0 2px 10px hsl(220 3% 15% / 0.05);
  --shadow-2: 0 8px 24px hsl(220 3% 15% / 0.08);
  --shadow-3: 0 16px 40px hsl(220 3% 15% / 0.12);

  --gap: 16px;
  --container: 1120px;

  /* Typography */
  --font-sans: "Inter", ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji";
  --size-0: clamp(0.84rem, 0.78rem + 0.3vw, 0.95rem);
  --size-1: clamp(1.00rem, 0.95rem + 0.35vw, 1.10rem);
  --size-2: clamp(1.20rem, 1.12rem + 0.6vw, 1.35rem);
  --size-3: clamp(1.44rem, 1.28rem + 1.0vw, 1.80rem);
  --size-4: clamp(1.92rem, 1.65rem + 1.4vw, 2.40rem);
  --size-5: clamp(2.40rem, 1.9rem + 2.2vw, 3.20rem);

  --ease-spring-2: cubic-bezier(0.2, 0.8, 0.2, 1);
}

/* Dark theme */
html.dark {
  --bg: 220 20% 6.5%;
  --surface: 220 14% 10%;
  --overlay: 220 18% 12.5%;
  --text: 210 20% 98%;
  --text-2: 220 6% 70%;
  --border: 220 10% 18%;
  --shadow-1: 0 2px 10px hsl(220 5% 3% / 0.5);
  --shadow-2: 0 8px 24px hsl(220 5% 3% / 0.6);
  --shadow-3: 0 16px 40px hsl(220 5% 3% / 0.7);
}

/* Global reset-ish */
* { box-sizing: border-box; }
html, body { height: 100%; }
body {
  margin: 0;
  font-family: var(--font-sans);
  color: hsl(var(--text));
  background: linear-gradient(180deg, hsl(var(--bg)) 0%, hsl(var(--overlay)) 100%);
  line-height: 1.6;
  -webkit-font-smoothing: antialiased;
}
/* Arabic script fallback for Pashto (ps) and Dari (fa) */
html[lang="ps"], html[lang="fa"] { font-family: "Noto Naskh Arabic", var(--font-sans); }
html[dir="rtl"] { direction: rtl; }
html[dir="rtl"] .nav__menu { text-align: right; }
html[dir="rtl"] .timeline::before { left: auto; right: 11px; }
html[dir="rtl"] .timeline__item { grid-template-columns: 1fr 24px; }
html[dir="rtl"] .timeline__header { flex-direction: row-reverse; }
html[dir="rtl"] .card, html[dir="rtl"] .lead, html[dir="rtl"] .list { text-align: right; }
html[dir="rtl"] .hero__art figcaption { inset-inline-start: .6rem; inset-inline-end: auto; }

img { max-width: 100%; display: block; }
a { color: hsl(var(--brand)); text-decoration: none; }
a:hover { text-decoration: underline; }

.container { width: min(100% - 2rem, var(--container)); margin-inline: auto; }
.section { padding: 72px 0; }

.skip-link { position: absolute; left: -9999px; }
.skip-link:focus { left: 1rem; top: 1rem; background: hsl(var(--surface)); color: hsl(var(--text)); padding: .6rem .9rem; border-radius: var(--radius); box-shadow: var(--shadow-2); }

/* App bar */
.app-bar { position: sticky; top: 0; z-index: 40; backdrop-filter: saturate(180%) blur(12px); background: hsl(var(--surface) / 0.75); border-bottom: 1px solid hsl(var(--border)); }
.app-bar[data-elevated] { box-shadow: var(--shadow-1); }
.app-bar__inner { display: flex; align-items: center; justify-content: space-between; padding: .8rem 0; }
.brand { display: flex; align-items: center; gap: .6rem; font-weight: 700; letter-spacing: .2px; color: hsl(var(--text)); }
.brand__logo { width: 32px; height: 32px; display: grid; place-items: center; border-radius: 10px; background: linear-gradient(135deg, hsl(var(--brand)), hsl(var(--brand-2))); color: white; font-size: .9rem; box-shadow: var(--shadow-2); }

.nav { position: relative; }
.nav__toggle { display: none; }
.nav__menu { display: flex; align-items: center; gap: 1rem; list-style: none; margin: 0; padding: 0; }
.nav__menu a { display: inline-block; padding: .5rem .75rem; border-radius: 10px; color: hsl(var(--text)); }
.nav__menu a:hover { background: hsl(var(--overlay)); text-decoration: none; }

/* Buttons */
.btn { --_bg: hsl(var(--overlay)); --_fg: hsl(var(--text)); --_bd: transparent; display: inline-flex; gap: .5rem; align-items: center; justify-content: center; padding: .8rem 1rem; border: 1px solid var(--_bd); background: var(--_bg); color: var(--_fg); border-radius: var(--radius-lg); font-weight: 600; letter-spacing: .2px; transition: transform .15s var(--ease-spring-2), background .2s, box-shadow .2s; box-shadow: var(--shadow-1); }
.btn:hover { transform: translateY(-1px); box-shadow: var(--shadow-2); text-decoration: none; }
.btn:active { transform: translateY(0); }
.btn--primary { --_bg: linear-gradient(135deg, hsl(var(--brand) / 0.95), hsl(var(--brand-2) / 0.95)); --_fg: white; }
.btn--tonal { --_bg: hsl(var(--brand) / 0.1); --_fg: hsl(var(--brand)); }
.btn--text { --_bg: transparent; --_fg: hsl(var(--brand)); box-shadow: none; border: none; padding-inline: .25rem; }

.icon-btn { display: inline-grid; place-items: center; width: 40px; height: 40px; border-radius: 12px; border: 1px solid hsl(var(--border)); background: hsl(var(--surface)); color: hsl(var(--text)); box-shadow: var(--shadow-1); }
.icon-btn:hover { background: hsl(var(--overlay)); }

.switch { display: inline-flex; align-items: center; gap: .5rem; font-size: var(--size-0); }

/* Typography */
.eyebrow { text-transform: uppercase; letter-spacing: .18em; color: hsl(var(--text-2)); font-weight: 700; font-size: .78rem; }
.display { font-size: var(--size-5); line-height: 1.05; margin: .4rem 0 1rem; letter-spacing: -0.02em; }
.lead { font-size: var(--size-2); color: hsl(var(--text-2)); }
.muted { color: hsl(var(--text-2)); }

/* Layout helpers */
.grid { display: grid; gap: calc(var(--gap) * 1.25); }
.grid-2 { grid-template-columns: repeat(2, minmax(0, 1fr)); }
.grid-3 { grid-template-columns: repeat(3, minmax(0, 1fr)); }

.card { background: hsl(var(--surface)); border: 1px solid hsl(var(--border)); border-radius: var(--radius); padding: 1.25rem; box-shadow: var(--shadow-1); }
.card.glass { background: hsl(var(--surface) / 0.6); backdrop-filter: blur(10px) saturate(140%); }

/* Hero */
.hero { padding-top: 96px; }
.hero__inner { display: grid; grid-template-columns: 1.2fr .8fr; gap: 2rem; align-items: center; }
.hero .actions { display: flex; gap: .8rem; margin-top: 1rem; flex-wrap: wrap; }
.quick-meta { margin-top: 1rem; display: flex; gap: .5rem; flex-wrap: wrap; }
.hero__art figure { position: relative; overflow: hidden; }
.hero__art figcaption { position: absolute; inset-inline-end: .6rem; inset-block-start: .6rem; }

/* About */
.profile { display: grid; place-items: center; text-align: center; }
.avatar { width: 164px; height: 164px; border-radius: 36px; background: linear-gradient(135deg, hsl(var(--brand)/.15), hsl(var(--brand-2)/.15)); padding: 8px; box-shadow: var(--shadow-2); }
.avatar img { border-radius: 28px; }
.list { padding-left: 1rem; }
.list.inline { display: inline-flex; list-style: none; padding: 0; gap: .6rem; }
.icon-link { display: inline-grid; place-items: center; width: 40px; height: 40px; border-radius: 12px; background: hsl(var(--overlay)); color: hsl(var(--text)); }
.icon-link:hover { background: hsl(var(--brand) / 0.12); color: hsl(var(--brand)); }

/* Timeline */
.timeline { list-style: none; margin: 2rem 0 0; padding: 0; position: relative; }
.timeline__item { display: grid; grid-template-columns: 24px 1fr; gap: 1rem; position: relative; }
.timeline__item + .timeline__item { margin-top: 1.25rem; }
.timeline::before { content: ""; position: absolute; left: 11px; top: 0; bottom: 0; width: 2px; background: linear-gradient(180deg, hsl(var(--brand) / 0.5), transparent); }
.timeline__dot { width: 24px; height: 24px; border-radius: 999px; background: radial-gradient(circle at 30% 30%, hsl(var(--brand)), hsl(var(--brand-2))); box-shadow: 0 0 0 4px hsl(var(--brand)/.15); }
.timeline__card { padding: 1rem 1.2rem; }
.timeline__header { display: flex; align-items: baseline; justify-content: space-between; gap: .6rem; margin-bottom: .4rem; }

/* Projects */
.project__thumb { height: 160px; border-radius: calc(var(--radius) - 4px); background: linear-gradient(135deg, hsl(var(--brand)/.25), hsl(var(--brand-2)/.25)); border: 1px dashed hsl(var(--border)); margin-bottom: .8rem; }
.project__meta { display: flex; flex-wrap: wrap; gap: .4rem; margin-top: .5rem; }
.skeleton { position: relative; overflow: hidden; }
.skeleton::after { content: ""; position: absolute; inset: 0; background: linear-gradient(90deg, transparent, hsl(0 0% 100% / .25), transparent); transform: translateX(-100%); animation: shimmer 1.8s infinite; }
@keyframes shimmer { 100% { transform: translateX(100%); } }

/* Chips */
.chips { display: flex; gap: .5rem; flex-wrap: wrap; }
.chip { display: inline-flex; align-items: center; padding: .4rem .7rem; border-radius: 999px; background: hsl(var(--overlay)); color: hsl(var(--text)); border: 1px solid hsl(var(--border)); box-shadow: var(--shadow-1); }
.chip--elevated { background: hsl(var(--surface)); }

/* Form */
.form { display: grid; gap: .9rem; }
.field { display: grid; gap: .35rem; }
.field input, .field textarea { border: 1px solid hsl(var(--border)); background: hsl(var(--surface)); color: hsl(var(--text)); border-radius: 14px; padding: .8rem 1rem; box-shadow: var(--shadow-1) inset; }
.field input:focus, .field textarea:focus { outline: 2px solid hsl(var(--brand) / .35); outline-offset: 2px; }

/* Footer */
.footer { border-top: 1px solid hsl(var(--border)); background: hsl(var(--surface) / .8); backdrop-filter: blur(8px); }
.footer__inner { display: flex; align-items: center; justify-content: space-between; padding: 1rem 0; }

/* Utilities */
.sr-only { position: absolute; width: 1px; height: 1px; padding: 0; margin: -1px; overflow: hidden; clip: rect(0, 0, 1, 1); white-space: nowrap; border: 0; }

/* Reveal on scroll */
[data-reveal] { opacity: 0; transform: translateY(10px); transition: opacity .6s var(--ease-spring-2), transform .6s var(--ease-spring-2); }
[data-reveal].is-visible { opacity: 1; transform: translateY(0); }

/* Responsive */
@media (max-width: 960px) {
  .grid-3 { grid-template-columns: 1fr 1fr; }
  .hero__inner { grid-template-columns: 1fr; }
}

@media (max-width: 720px) {
  .grid-2, .grid-3 { grid-template-columns: 1fr; }
  .nav__toggle { display: inline-grid; }
  .nav__menu { position: absolute; right: 0; top: 56px; flex-direction: column; align-items: stretch; background: hsl(var(--surface)); border: 1px solid hsl(var(--border)); border-radius: var(--radius); padding: .5rem; min-width: 220px; box-shadow: var(--shadow-3); display: none; }
  .nav__menu.is-open { display: flex; }
  html[dir="rtl"] .nav__menu { left: 0; right: auto; }
}

/* Language picker */
.lang-picker select { appearance: none; -webkit-appearance: none; -moz-appearance: none; border: 1px solid hsl(var(--border)); background: hsl(var(--surface)); color: hsl(var(--text)); height: 36px; padding: 0 .6rem; border-radius: 10px; box-shadow: var(--shadow-1); font-size: 0.9rem; }
.lang-picker select:focus { outline: 2px solid hsl(var(--brand) / .35); outline-offset: 2px; }

/* Theme icons */
.icon-moon { display: none; }
html.dark .icon-sun { display: none; }
html.dark .icon-moon { display: inline; }

/* Reduced motion */
@media (prefers-reduced-motion: reduce) {
  * { animation: none !important; transition: none !important; }
}
